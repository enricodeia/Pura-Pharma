document.addEventListener("DOMContentLoaded",function(){ButtonUtils.initButtonIcon(),ButtonUtils.initPushButton(),AnimationUtils.initScrollReveal(),AnimationUtils.initTextReveal(),AnimationUtils.initCardReveal(),ButtonUtils.initTextButton(),AnimationUtils.initAccordion(),CarouselUtils.initImageCarousel(),EffectsUtils.initPillsFooterEffect()});const AnimationUtils={initScrollReveal:function(){gsap.registerPlugin(ScrollTrigger),document.querySelectorAll("[reveal-on-scroll=section]").forEach(e=>{let t=e.querySelectorAll("[reveal-on-scroll=eyebrow]"),r=e.querySelectorAll("[reveal-on-scroll=title]");t.length&&gsap.fromTo(t,{y:100,opacity:0},{y:0,opacity:1,duration:1.2,ease:"power4.out",stagger:.2,scrollTrigger:{trigger:e,start:"70% bottom",end:"bottom top",toggleActions:"play none none reverse"}}),r.length&&gsap.fromTo(r,{y:100,opacity:0},{y:0,opacity:1,duration:1.4,ease:"power4.out",stagger:.2,scrollTrigger:{trigger:e,start:"100% bottom",end:"bottom top",toggleActions:"play none none reverse"}})})},initTextReveal:function(){let e=document.querySelectorAll("[anm-scroll-text=section]");0!==e.length&&e.forEach(e=>{if(this.isAnimationDisabled(e))return;let t=e.closest("[anm-scroller=scroller]")||window,r=e.getAttribute("anm-start")||"top 20%",o=e.getAttribute("anm-reset"),a=e.querySelectorAll("[anm-scroll-text=headline]"),i=e.querySelectorAll("[anm-scroll-text=text]"),n=gsap.timeline({defaults:{duration:1,ease:"expo.out"}});function l(e,t){e.forEach(e=>{let r=e.getAttribute("anm-distance")||t,o=e.getAttribute("anm-split")||"lines",a=parseFloat(e.getAttribute("anm-lines-stagger"))||.08,i=parseFloat(e.getAttribute("anm-duration"))||1.2,l=parseFloat(e.getAttribute("anm-delay"))||.2,s=e.getAttribute("anm-ease")||"expo.out",c=e.getAttribute("anm-custom"),u={};if(c&&c.split(",").forEach(e=>{let[t,r]=e.split(":").map(e=>e.trim());t&&r&&(u[t]=r)}),o){let d=new SplitType(e,{types:"lines"});n.fromTo(d.lines,{y:r,autoAlpha:0,...u},{y:0,autoAlpha:1,stagger:a,duration:i,delay:l,ease:s,...u},0)}else n.fromTo(e,{y:r,autoAlpha:0,...u},{yPercent:0,autoAlpha:1,duration:i,delay:l,ease:s,...u},0)})}ScrollTrigger.create({animation:n,trigger:e,scroller:t,start:r,end:"top 30%",toggleActions:o?"none play none reset":"none play none none"}),l(a,"100%"),l(i,"50%")})},initCardReveal:function(){let e=document.querySelectorAll("[anm-cards-container=section]");e&&0!==e.length&&e.forEach(e=>{if(this.isAnimationDisabled(e))return;let t=e.closest("[anm-scroller=scroller]")||window,r=e.getAttribute("anm-start")||"55% bottom",o=e.getAttribute("anm-end")||"bottom top",a=e.getAttribute("anm-scrub")||!1,i=e.getAttribute("anm-reset")||!1,n=e.querySelectorAll("[anm-cards-scroll=card]"),l=gsap.timeline({defaults:{duration:1,ease:"power2.inOut"}});ScrollTrigger.create({animation:l,trigger:e,scroller:t,start:"true"===i?"top bottom":r,end:"true"===i?r:o,scrub:"true"===a,toggleActions:"true"===i?"none play none reset":"true"===a?null:"play none none none"}),n.forEach((e,t)=>{let r=e.getAttribute("anm-duration")||1,o=e.getAttribute("anm-custom")||"",a=e.getAttribute("anm-ease")||"power2.inOut",i=e.getAttribute("anm-delay")||.1*t,n=e.getAttribute("anm-type")||"slide",s=e.getAttribute("anm-direction")||"bottom",c={};switch(o&&o.split(",").forEach(e=>{let[t,r]=e.split(":").map(e=>e.trim());t&&r&&(c[t]=r)}),n){case"opacity":l.fromTo(e,{opacity:0,...c},{opacity:1,duration:r,ease:a,delay:i},0);break;case"slide":let u=e.getAttribute("anm-distance")||"100%";switch(s){case"top":l.fromTo(e,{y:-u,opacity:0,...c},{y:0,opacity:1,duration:r,ease:a,delay:i},0);break;case"bottom":l.fromTo(e,{y:u,opacity:0,...c},{y:0,opacity:1,duration:r,ease:a,delay:i},0);break;case"left":l.fromTo(e,{x:-u,opacity:0,...c},{x:0,opacity:1,duration:r,ease:a,delay:i},0);break;case"right":l.fromTo(e,{x:u,opacity:0,...c},{x:0,opacity:1,duration:r,ease:a,delay:i},0)}break;case"scale":let d=parseFloat(e.getAttribute("anm-scale"))||.8;l.fromTo(e,{scale:d,...c},{scale:1,duration:r,ease:a,delay:i},0)}})})},initAccordion:function(){let e=document.querySelectorAll("[anm-accordion=section]");e&&0!==e.length&&e.forEach(e=>{if(this.isAnimationDisabled(e))return;let t=e.getAttribute("anm-allow-multiple"),r=e.querySelectorAll("[anm-accordion=accordion]"),o=null;r&&0!==r.length&&r.forEach(e=>{let r=e.querySelector("[anm-accordion=trigger]"),a=e.getAttribute("anm-open")||"false",i=e.querySelector("[anm-accordion=content]"),n=e.querySelector("[anm-accordion=icon]"),l=e.getAttribute("anm-duration")||1,s=e.getAttribute("anm-delay")||0,c=e.getAttribute("anm-ease")||"expo.inOut",u=e.getAttribute("anm-custom")||"",d={};u&&u.split(",").forEach(e=>{let[t,r]=e.split(":").map(e=>e.trim());t&&r&&(d[t]=r)});let $={};for(let m in d)if("opacity"===m)$[m]="1";else if("scale"===m)$[m]=1;else if($[m]=d[m].replace(/(\d+(\.\d+)?)/g,e=>{let t=e.match(/(\d+(\.\d+)?)(px|rem|em|%|vh|vw|dvh|dvw|deg|rad|grad|turn|cvw|cvh)?/);return t?`0${t[3]||""}`:"0"}),!/\d/.test(d[m])){let p=window.getComputedStyle(i);$[m]=p[m]||d[m]}let y=gsap.timeline({defaults:{duration:l,ease:c},delay:s,paused:!0});gsap.set(i,{height:0,...d}),y.to(n,{rotate:-135}).fromTo(i,{height:0,...d},{height:"auto",...$},"<"),"true"===a&&(y.play(),o=e),r.addEventListener("click",()=>{"false"===a?(!0!==t&&o&&o!==e&&o.querySelector("[anm-accordion=trigger]").click(),a="true",o=e,y.play()):(a="false",o=null,y.reverse())})})})},isAnimationDisabled:function(e){let t=e.getAttribute("anm-disable");if(!t)return!1;let r=t.split(",").map(e=>e.trim()),o={desktop:"(min-width: 992px)",tablet:"(min-width: 768px) and (max-width: 991px)",landscape:"(orientation: landscape) and (max-width: 767px)",mobile:"(max-width: 479px)"},a=r.map(e=>o[e]).filter(Boolean);return 0!==a.length&&a.some(e=>window.matchMedia(e).matches)}},GLTransitionUtils={},EffectsUtils={initPillsFooterEffect:function(){let e=document.querySelector(".mwg_effect020");if(!e)return;let t=[];e.querySelectorAll(".medias img").forEach(e=>{t.push(e.getAttribute("src"))});let r=0,o=0,a=0,i=window.innerWidth/12,n=0;window.addEventListener("DOMContentLoaded",()=>{e.addEventListener("mousemove",e=>{o=e.clientX,a=e.clientY},{once:!0}),e.addEventListener("mousemove",l=>{let s=l.clientX,c=l.clientY;if((r+=(Math.abs(s-o)+Math.abs(c-a))*.7)>i){var u,d,$,m;r=0;let p,y;u=s,d=c-e.getBoundingClientRect().top,$=s-o,m=c-a,(p=document.createElement("img")).setAttribute("src",t[n]),e.appendChild(p),(y=gsap.timeline({onComplete(){e.removeChild(p),y&&y.kill()}})).fromTo(p,{xPercent:-50+(Math.random()-.5)*40,yPercent:-50+(Math.random()-.5)*6,scaleX:1.15,scaleY:1.15},{scaleX:1,scaleY:1,ease:"elastic.out(1.5, 0.5)",duration:.7}),y.fromTo(p,{x:u,y:d,rotation:(Math.random()-.5)*10},{x:"+="+2.5*$,y:"+="+2.5*m,rotation:(Math.random()-.5)*10,ease:"power2.out",duration:1.8},"<"),y.to(p,{duration:.5,scale:.7,delay:.15,ease:"back.in(1.2)"}),n=(n+1)%t.length}o=s,a=c})})}},ButtonUtils={initButtonIcon:function(){let e=document.querySelectorAll("[anm-icon-btn=wrap]");e&&0!==e.length&&e.forEach(e=>{if(AnimationUtils.isAnimationDisabled(e))return;let t=e.querySelector("[anm-icon-btn=icon]"),r=e.querySelector("[anm-icon-btn=bg]"),o=e.querySelector(".anm_icon_btn_text"),a=e.getAttribute("anm-color")||window.getComputedStyle(e).color,i=e.getAttribute("anm-duration")||.5,n=e.getAttribute("anm-ease")||"power3.inOut",l=e.getAttribute("anm-delay")||0,s=t.cloneNode(!0);s.style.position="absolute",t.after(s),s.style.left="-100%",s.style.top="100%";let c=gsap.timeline({defaults:{ease:n,duration:i,delay:l},paused:!0});c.to(e,{color:a}).to(o,{color:"#282D32"},"<").to(t,{xPercent:100,yPercent:-100},"<").to(s,{xPercent:100,yPercent:-100},"<").to(r,{scaleX:15,scaleY:10},"<"),e.addEventListener("mouseenter",()=>{c.play()}),e.addEventListener("mouseleave",()=>{c.reverse()})})},initPushButton:function(){let e=document.querySelectorAll("[anm-push-btn=wrap]");e&&0!==e.length&&e.forEach(e=>{if(AnimationUtils.isAnimationDisabled(e))return;let t=e.querySelector("[anm-push-btn=text]"),r=e.getAttribute("anm-direction"),o=t.cloneNode(!0);o.style.position="absolute",t.after(o);let a=gsap.timeline({defaults:{ease:"power3.inOut",duration:.5},paused:!0});"up"===r?(o.style.bottom="-105%",a.to(t,{yPercent:-105}).to(o,{yPercent:-105},"<")):"down"===r?(o.style.top="-105%",a.to(t,{yPercent:105}).to(o,{yPercent:105},"<")):"left"===r?(o.style.top="0",o.style.right="105%",a.to(t,{xPercent:105}).to(o,{xPercent:105},"<")):"right"===r&&(o.style.top="0",o.style.left="105%",a.to(t,{xPercent:-105}).to(o,{xPercent:-105},"<")),e.addEventListener("mouseenter",()=>{a.play()}),e.addEventListener("mouseleave",()=>{a.reverse()})})},initTextButton:function(){let e=document.querySelectorAll("[anm-text-btn=wrap]");e&&0!==e.length&&e.forEach(e=>{if(AnimationUtils.isAnimationDisabled(e))return;let t=e.querySelector("[anm-text-btn=underline]"),r=e.getAttribute("anm-line-scale")||0,o=e.getAttribute("anm-ease")||"power2.inOut",a=e.getAttribute("anm-duration")||.3,i=e.getAttribute("anm-delay")||0,n=e.getAttribute("anm-custom")||"",l={};n&&n.split(",").forEach(e=>{let[t,r]=e.split(":").map(e=>e.trim());t&&r&&(l[t]=r)});let s={};for(let c in l)if("opacity"===c)s[c]="1";else if("scale"===c)s[c]=1;else if(s[c]=l[c].replace(/(\d+(\.\d+)?)/g,e=>{let t=e.match(/(\d+(\.\d+)?)(px|rem|em|%|vh|vw|dvh|dvw|deg|rad|grad|turn|cvw|cvh)?/);return t?`0${t[3]||""}`:"0"}),!/\d/.test(l[c])){let u=window.getComputedStyle(t);s[c]=u[c]||l[c]}let d=gsap.timeline({defaults:{duration:a,ease:o,delay:i}});d.set(t,{scaleX:r,transformOrigin:"left"}),e.addEventListener("mouseenter",()=>{d.clear(),d.fromTo(t,{scaleX:r,...l},{scaleX:1,transformOrigin:"left",...s})}),e.addEventListener("mouseleave",()=>{d.clear(),d.fromTo(t,{scaleX:1,...l},{scaleX:r,transformOrigin:"right",...s})})})}},CarouselUtils={initImageCarousel:function(){gsap.registerPlugin(Observer,ScrollTrigger);let e=0,t,r=[],o=!0;window.addEventListener("DOMContentLoaded",()=>{let a=document.querySelector(".mwg_effect008 .container");if(!a)return;let i=document.querySelectorAll(".mwg_effect008 .card"),n=i.length/2,l=a.clientWidth/2,s=gsap.utils.wrap(-l,0);t=gsap.quickTo(a,"x",{duration:.5,ease:"power3",modifiers:{x:gsap.utils.unitize(s)}});for(let c=0;c<n;c++)r.push((Math.random()-.5)*20);let u=gsap.timeline({paused:!0});u.to(i,{rotate:e=>r[e%n],xPercent:e=>r[e%n],yPercent:e=>r[e%n],scale:.95,duration:.5,ease:"back.inOut(3)"}),Observer.create({target:a,type:"pointer,touch",onPress:()=>u.play(),onDrag(r){t(e+=r.deltaX)},onRelease(){u.reverse()},onStop(){u.reverse()}}),gsap.ticker.add(function r(a,i){o&&t(e-=i/10)}),ScrollTrigger.create({trigger:".mwg_effect008",start:"top bottom",end:"bottom top",onEnter(){o=!0},onEnterBack(){o=!0},onLeave(){o=!1},onLeaveBack(){o=!1}});let d=()=>{let e=document.querySelector(".mwg_effect008");e&&(e.style.width=window.innerWidth+"px")};d(),window.addEventListener("resize",d)})}};
